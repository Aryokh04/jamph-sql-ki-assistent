# Dockerfile for qwen2.5-coder-1.5b-instruct_q4_k_m
# Generated by dockerise_model.py on 2026-01-09 20:53:59

FROM ollama/ollama:latest

# Set working directory
WORKDIR /app

# Copy model files
COPY qwen2.5-coder-1.5b-instruct-Q4_K_M.gguf /app/
COPY Modelfile /app/

# Create model in Ollama
RUN ollama serve & \
    sleep 5 && \
    ollama create qwen2.5-coder-1.5b-instruct_q4_k_m -f /app/Modelfile && \
    pkill ollama

# Expose Ollama port
EXPOSE 11434

# Health check
HEALTHCHECK --interval=30s --timeout=10s --start-period=40s --retries=3 \
    CMD curl -f http://localhost:11434/api/tags || exit 1

# Start Ollama server
CMD ["ollama", "serve"]
